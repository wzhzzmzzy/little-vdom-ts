var _=()=>({_type:""});function y(r,t,...n){return r===""?{_type:r,_props:t,_children:[],key:t.key}:typeof r=="string"?{_type:r,_props:t,_children:n.filter(s=>s!==null&&s!==""),key:t?.key}:{_type:r,_props:t,_children:n.filter(s=>s!==!1&&s!==null),key:t?.key}}var V=r=>r.children,u=(r,t,n=t._vnode)=>(n||(n=t._vnode=_()),m(y(V,{},r),t,n)),m=(r,t,n,s=-1)=>{if(Array.isArray(r))return f(t,r,n);let e=r._type!==void 0?r:y("",""+r);if(typeof e._type=="function"){e._state=n._state||{};let d={children:e._children,...e._props},l=e._type(d,e._state,p=>(Object.assign(e._state,p),m(e,t,e)));return e._patched=m(l,t,n?._patched||_(),s),t._vnode=e}let o=n?.dom||(e._type?document.createElement(e._type):new Text(e._props));if(e._props!=n?._props)if(e._type){let{key:d,ref:l,...p}=e._props;l&&(l.current=o);for(let a in p){let i=p[a];if(a==="style"&&!i.trim)for(let N in i)o.style[N]=i[N];else i!=n?._props?.[a]&&(a in o||(a=a.toLowerCase())in o?o[a]=i:i!=null?o.setAttribute(a,i):o.removeAttribute(a))}}else o.data=e._props;return f(o,e._children,n),(!n?.dom||s!==-1)&&t.insertBefore(e.dom=o,t.childNodes[s+1]||null),t._vnode=Object.assign(n,e)},f=(r,t,n)=>{let s=n._normalizedChildren||[];return n._normalizedChildren=t.concat.apply([],t).map((e,o)=>{let d;e._type===void 0?d=y("",""+e):d=e;let l=s.find((p,a)=>{let i=p&&p._type===d._type&&p.key===d.key;return i&&(a===o&&(o=-1),s[a]=null,p)})||_();return m(d,r,l,o)}),s.filter(e=>!!e).map(c),n};function c(r){let{_children:t=[],_patched:n=[]}=r;t.concat(n).map(s=>s&&c(s)),r.dom&&r.dom.remove()}export{V as Fragment,m as diff,y as h,u as render};
